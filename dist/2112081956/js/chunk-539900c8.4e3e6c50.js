(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-539900c8"],{"658e":function(e,t,n){"use strict";n.r(t);var i=n("1da1"),s=(n("96cf"),n("7a23")),o=n("d4ec"),c=n("bee2"),a=n("3ef4"),r=function(){function e(){Object(o["a"])(this,e),this.element=document.getElementById("foot"),this.change()}return Object(c["a"])(e,[{key:"x",get:function(){return this.element.offsetLeft}},{key:"y",get:function(){return this.element.offsetTop}},{key:"change",value:function(){var e=10*Math.round(29*Math.random()),t=10*Math.round(29*Math.random());this.element.style.left=e+"px",this.element.style.top=t+"px"}}]),e}(),h=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;Object(o["a"])(this,e),this.score=0,this.level=1,this.scoreEle=document.getElementById("scoreEle"),this.levelEle=document.getElementById("levelEle"),this.maxLevel=t,this.upScore=n}return Object(c["a"])(e,[{key:"addSore",value:function(){this.scoreEle.innerHTML="Score:"+ ++this.score,this.score%this.upScore===0&&this.levelUp()}},{key:"levelUp",value:function(){this.level>this.maxLevel||(this.levelEle.innerHTML="Level:"+ ++this.level)}}]),e}(),d=function(){function e(){Object(o["a"])(this,e),this.element=document.getElementById("snake"),this.head=this.element.querySelector("div"),this.bodies=this.element.getElementsByTagName("div")}return Object(c["a"])(e,[{key:"x",get:function(){return this.head.offsetLeft},set:function(e){if(this.x!=e){if(e<0||e>300)throw new Error("撞墙！");this.bodies[1]&&this.bodies[1].offsetLeft===e&&(e>this.x?this.x-=e-this.x:this.x+=this.x-e),this.moveBody(),this.head.style.left=e+"px",this.checkHeadBody()}}},{key:"y",get:function(){return this.head.offsetTop},set:function(e){if(this.y!=e){if(e<0||e>300)throw new Error("撞墙！");this.bodies[1]&&this.bodies[1].offsetTop===e&&(e>this.y?this.y-=e-this.y:this.y+=this.y-e),this.moveBody(),this.head.style.top=e+"px",this.checkHeadBody()}}},{key:"addBody",value:function(){this.element.insertAdjacentHTML("beforeend","<div></div>");for(var e=this.element.getElementsByTagName("div"),t=0;t<e.length-1;t++)e[t].setAttribute("class","xx")}},{key:"moveBody",value:function(){for(var e=this.bodies.length-1;e>0;e--){var t=this.bodies[e-1].offsetLeft,n=this.bodies[e-1].offsetTop;this.bodies[e].style.left=t+"px",this.bodies[e].style.top=n+"px"}}},{key:"checkHeadBody",value:function(){for(var e=1;e<this.bodies.length;e++){var t=this.bodies[e];if(this.x===t.offsetLeft&&this.y===t.offsetTop)throw new Error("撞到自己")}}}]),e}(),l=function(){function e(){var t=this;Object(o["a"])(this,e),this.direction="",this.isLive=!0,this.keyDownHandler=function(e){t.direction=e.key},this.snake=new d,this.foot=new r,this.scorePanel=new h(100,1),this.init()}return Object(c["a"])(e,[{key:"init",value:function(){document.addEventListener("keydown",this.keyDownHandler),this.run()}},{key:"run",value:function(){var e=this.snake.x,t=this.snake.y;switch(this.direction){case"ArrowUp":case"Up":t-=10;break;case"ArrowDown":case"Down":t+=10;break;case"ArrowLeft":case"Left":e-=10;break;case"ArrowRight":case"Right":e+=10;break}this.checkEat(e,t);try{this.snake.x=e,this.snake.y=t}catch(n){a["a"].error(n.message+"GOME OVER"),this.isLive=!1}this.isLive&&setTimeout(this.run.bind(this),300-30*(this.scorePanel.level-1))}},{key:"checkEat",value:function(e,t){e===this.foot.x&&t===this.foot.y&&(this.foot.change(),this.scorePanel.addSore(),this.snake.addBody())}}]),e}(),u={class:"container"},f=Object(s["createTextVNode"])("重新开始"),v=Object(s["createStaticVNode"])('<div class="main" data-v-476ae6ce><div class="stage" data-v-476ae6ce><div id="snake" class="snake" data-v-476ae6ce><p id="foot" class="foot" data-v-476ae6ce></p><div class="xx" data-v-476ae6ce></div><div data-v-476ae6ce></div></div></div><div id="score-panel" class="score-panel" data-v-476ae6ce><div id="scoreEle" data-v-476ae6ce>Score:0</div><div id="levelEle" data-v-476ae6ce>Level:1</div></div></div>',1),y=Object(s["defineComponent"])({setup:function(e){Object(s["onMounted"])((function(){n()}));var t=null,n=function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(s["nextTick"])();case 2:t=new l;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=Object(s["inject"])("isLoadNowDom"),c=function(){t.isLive=!1,o()};return function(e,t){var n=Object(s["resolveComponent"])("el-button"),i=Object(s["resolveComponent"])("el-col"),o=Object(s["resolveComponent"])("el-row");return Object(s["openBlock"])(),Object(s["createElementBlock"])("div",u,[Object(s["createVNode"])(o,{type:"flex",justify:"center"},{default:Object(s["withCtx"])((function(){return[Object(s["createVNode"])(i,{span:1},{default:Object(s["withCtx"])((function(){return[Object(s["createVNode"])(n,{type:"primary",onClick:c},{default:Object(s["withCtx"])((function(){return[f]})),_:1})]})),_:1})]})),_:1}),v])}}}),b=(n("961c"),n("d959")),p=n.n(b);const m=p()(y,[["__scopeId","data-v-476ae6ce"]]);t["default"]=m},"961c":function(e,t,n){"use strict";n("9829")},9829:function(e,t,n){},bee2:function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}n.d(t,"a",(function(){return s}))},d4ec:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return i}))},d959:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=(e,t)=>{const n=e.__vccOpts||e;for(const[i,s]of t)n[i]=s;return n}}}]);
//# sourceMappingURL=chunk-539900c8.4e3e6c50.js.map